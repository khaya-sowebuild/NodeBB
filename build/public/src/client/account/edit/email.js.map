{"version":3,"sources":["public/src/client/account/edit/email.js"],"names":["define","header","AccountEditEmail","init","$","on","userData","uid","val","email","password","app","alertError","btn","this","addClass","find","removeClass","socket","emit","err","message","ajaxify","go","data","userslug"],"mappings":"AAAA,aAGAA,OAAO,4BAA6B,wBAAyB,SAAUC,GACtE,IAAIC,KAEJA,EAAiBC,KAAO,WACvBF,EAAOE,OAEPC,EAAE,cAAcC,GAAG,QAAS,WAC3B,IAAIC,GACHC,IAAKH,EAAE,aAAaI,MACpBC,MAAOL,EAAE,kBAAkBI,MAC3BE,SAAUN,EAAE,yBAAyBI,OAGtC,IAAKF,EAASG,MAAO,CACpB,OAGD,GAAIH,EAASG,QAAUH,EAASI,SAAU,CACzC,OAAOC,IAAIC,WAAW,mCAGvB,IAAIC,EAAMT,EAAEU,MACZD,EAAIE,SAAS,YAAYC,KAAK,KAAKC,YAAY,QAE/CC,OAAOC,KAAK,2BAA4Bb,EAAU,SAAUc,GAC3DP,EAAII,YAAY,YAAYD,KAAK,KAAKD,SAAS,QAC/C,GAAIK,EAAK,CACR,OAAOT,IAAIC,WAAWQ,EAAIC,SAG3BC,QAAQC,GAAG,QAAUD,QAAQE,KAAKC,SAAW,WAG9C,OAAO,SAIT,OAAOvB","file":"public/src/client/account/edit/email.js","sourcesContent":["'use strict';\r\n\r\n\r\ndefine('forum/account/edit/email', ['forum/account/header'], function (header) {\r\n\tvar AccountEditEmail = {};\r\n\r\n\tAccountEditEmail.init = function () {\r\n\t\theader.init();\r\n\r\n\t\t$('#submitBtn').on('click', function () {\r\n\t\t\tvar userData = {\r\n\t\t\t\tuid: $('#inputUID').val(),\r\n\t\t\t\temail: $('#inputNewEmail').val(),\r\n\t\t\t\tpassword: $('#inputCurrentPassword').val(),\r\n\t\t\t};\r\n\r\n\t\t\tif (!userData.email) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (userData.email === userData.password) {\r\n\t\t\t\treturn app.alertError('[[user:email_same_as_password]]');\r\n\t\t\t}\r\n\r\n\t\t\tvar btn = $(this);\r\n\t\t\tbtn.addClass('disabled').find('i').removeClass('hide');\r\n\r\n\t\t\tsocket.emit('user.changeUsernameEmail', userData, function (err) {\r\n\t\t\t\tbtn.removeClass('disabled').find('i').addClass('hide');\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tajaxify.go('user/' + ajaxify.data.userslug + '/edit');\r\n\t\t\t});\r\n\r\n\t\t\treturn false;\r\n\t\t});\r\n\t};\r\n\r\n\treturn AccountEditEmail;\r\n});\r\n"]}