{"version":3,"sources":["public/src/client/groups/details.js"],"names":["define","memberList","iconSelect","components","coverPhoto","pictureCropper","translator","Details","groupName","init","detailsPage","get","ajaxify","data","group","name","isOwner","prepareSettings","imageData","position","callback","socket","emit","show","title","socketMethod","aspectRatio","NaN","allowSkippingCrop","restrictImageDimension","paramName","paramValue","imageUrlOnServer","css","removeCover","handleMemberInvitations","find","addClass","on","btnEl","$","this","userRow","parents","ownerFlagEl","hasClass","uid","attr","action","toUid","err","toggleClass","app","alertError","message","translate","translated","bootbox","confirm","slideUp","remove","update","deleteGroup","refresh","settingsFormEl","colorBtn","colorValueEl","iconBtn","previewEl","previewIcon","userTitleEl","userTitleEnabledEl","iconValueEl","ColorPicker","color","val","onChange","hsb","hex","onShow","colpkr","icon","detach","text","value","prepend","customOpts","checked","removeAttr","removeClass","checkboxes","length","require","settings","serializeObject","each","idx","inputEl","prop","values","pathname","window","location","substr","lastIndexOf","go","utils","slugify","alertSuccess","escapeHTML","prompt","response","searchInput","autocomplete","user","event","selected","item","usernames"],"mappings":"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","file":"public/src/client/groups/details.js","sourcesContent":["'use strict';\r\n\r\n\r\ndefine('forum/groups/details', [\r\n\t'forum/groups/memberlist',\r\n\t'iconSelect',\r\n\t'components',\r\n\t'coverPhoto',\r\n\t'pictureCropper',\r\n\t'translator',\r\n\t'vendor/colorpicker/colorpicker',\r\n], function (memberList, iconSelect, components, coverPhoto, pictureCropper, translator) {\r\n\tvar Details = {};\r\n\tvar groupName;\r\n\r\n\tDetails.init = function () {\r\n\t\tvar detailsPage = components.get('groups/container');\r\n\r\n\t\tgroupName = ajaxify.data.group.name;\r\n\r\n\t\tif (ajaxify.data.group.isOwner) {\r\n\t\t\tDetails.prepareSettings();\r\n\r\n\t\t\tcoverPhoto.init(\r\n\t\t\t\tcomponents.get('groups/cover'),\r\n\t\t\t\tfunction (imageData, position, callback) {\r\n\t\t\t\t\tsocket.emit('groups.cover.update', {\r\n\t\t\t\t\t\tgroupName: groupName,\r\n\t\t\t\t\t\timageData: imageData,\r\n\t\t\t\t\t\tposition: position,\r\n\t\t\t\t\t}, callback);\r\n\t\t\t\t},\r\n\t\t\t\tfunction () {\r\n\t\t\t\t\tpictureCropper.show({\r\n\t\t\t\t\t\ttitle: '[[groups:upload-group-cover]]',\r\n\t\t\t\t\t\tsocketMethod: 'groups.cover.update',\r\n\t\t\t\t\t\taspectRatio: NaN,\r\n\t\t\t\t\t\tallowSkippingCrop: true,\r\n\t\t\t\t\t\trestrictImageDimension: false,\r\n\t\t\t\t\t\tparamName: 'groupName',\r\n\t\t\t\t\t\tparamValue: groupName,\r\n\t\t\t\t\t}, function (imageUrlOnServer) {\r\n\t\t\t\t\t\tcomponents.get('groups/cover').css('background-image', 'url(' + imageUrlOnServer + ')');\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tremoveCover\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tmemberList.init();\r\n\r\n\t\thandleMemberInvitations();\r\n\r\n\t\tcomponents.get('groups/activity').find('.content img:not(.not-responsive)').addClass('img-responsive');\r\n\r\n\t\tdetailsPage.on('click', '[data-action]', function () {\r\n\t\t\tvar btnEl = $(this);\r\n\t\t\tvar userRow = btnEl.parents('[data-uid]');\r\n\t\t\tvar ownerFlagEl = userRow.find('.member-name > i');\r\n\t\t\tvar isOwner = !ownerFlagEl.hasClass('invisible');\r\n\t\t\tvar uid = userRow.attr('data-uid');\r\n\t\t\tvar action = btnEl.attr('data-action');\r\n\r\n\t\t\tswitch (action) {\r\n\t\t\tcase 'toggleOwnership':\r\n\t\t\t\tsocket.emit('groups.' + (isOwner ? 'rescind' : 'grant'), {\r\n\t\t\t\t\ttoUid: uid,\r\n\t\t\t\t\tgroupName: groupName,\r\n\t\t\t\t}, function (err) {\r\n\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\townerFlagEl.toggleClass('invisible');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tapp.alertError(err.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'kick':\r\n\t\t\t\ttranslator.translate('[[groups:details.kick_confirm]]', function (translated) {\r\n\t\t\t\t\tbootbox.confirm(translated, function (confirm) {\r\n\t\t\t\t\t\tif (!confirm) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsocket.emit('groups.kick', {\r\n\t\t\t\t\t\t\tuid: uid,\r\n\t\t\t\t\t\t\tgroupName: groupName,\r\n\t\t\t\t\t\t}, function (err) {\r\n\t\t\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\t\t\tuserRow.slideUp().remove();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tapp.alertError(err.message);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'update':\r\n\t\t\t\tDetails.update();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'delete':\r\n\t\t\t\tDetails.deleteGroup();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'join':\t// intentional fall-throughs!\r\n\t\t\tcase 'leave':\r\n\t\t\tcase 'accept':\r\n\t\t\tcase 'reject':\r\n\t\t\tcase 'issueInvite':\r\n\t\t\tcase 'rescindInvite':\r\n\t\t\tcase 'acceptInvite':\r\n\t\t\tcase 'rejectInvite':\r\n\t\t\tcase 'acceptAll':\r\n\t\t\tcase 'rejectAll':\r\n\t\t\t\tsocket.emit('groups.' + action, {\r\n\t\t\t\t\ttoUid: uid,\r\n\t\t\t\t\tgroupName: groupName,\r\n\t\t\t\t}, function (err) {\r\n\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\tajaxify.refresh();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tapp.alertError(err.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tDetails.prepareSettings = function () {\r\n\t\tvar settingsFormEl = components.get('groups/settings');\r\n\t\tvar colorBtn = settingsFormEl.find('[data-action=\"color-select\"]');\r\n\t\tvar colorValueEl = settingsFormEl.find('[name=\"labelColor\"]');\r\n\t\tvar iconBtn = settingsFormEl.find('[data-action=\"icon-select\"]');\r\n\t\tvar previewEl = settingsFormEl.find('.label');\r\n\t\tvar previewIcon = previewEl.find('i');\r\n\t\tvar userTitleEl = settingsFormEl.find('[name=\"userTitle\"]');\r\n\t\tvar userTitleEnabledEl = settingsFormEl.find('[name=\"userTitleEnabled\"]');\r\n\t\tvar iconValueEl = settingsFormEl.find('[name=\"icon\"]');\r\n\r\n\t\t// Add color picker to settings form\r\n\t\tcolorBtn.ColorPicker({\r\n\t\t\tcolor: colorValueEl.val() || '#000',\r\n\t\t\tonChange: function (hsb, hex) {\r\n\t\t\t\tcolorValueEl.val('#' + hex);\r\n\t\t\t\tpreviewEl.css('background-color', '#' + hex);\r\n\t\t\t},\r\n\t\t\tonShow: function (colpkr) {\r\n\t\t\t\t$(colpkr).css('z-index', 1051);\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\t// Add icon selection interface\r\n\t\ticonBtn.on('click', function () {\r\n\t\t\ticonSelect.init(previewIcon, function () {\r\n\t\t\t\ticonValueEl.val(previewIcon.val());\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// If the user title changes, update that too\r\n\t\tuserTitleEl.on('keyup', function () {\r\n\t\t\tvar icon = previewIcon.detach();\r\n\t\t\tpreviewEl.text(' ' + (this.value || settingsFormEl.find('#name').val()));\r\n\t\t\tpreviewEl.prepend(icon);\r\n\t\t});\r\n\r\n\t\t// Disable user title customisation options if the the user title itself is disabled\r\n\t\tuserTitleEnabledEl.on('change', function () {\r\n\t\t\tvar customOpts = components.get('groups/userTitleOption');\r\n\r\n\t\t\tif (this.checked) {\r\n\t\t\t\tcustomOpts.removeAttr('disabled');\r\n\t\t\t\tpreviewEl.removeClass('hide');\r\n\t\t\t} else {\r\n\t\t\t\tcustomOpts.attr('disabled', 'disabled');\r\n\t\t\t\tpreviewEl.addClass('hide');\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tDetails.update = function () {\r\n\t\tvar settingsFormEl = components.get('groups/settings');\r\n\t\tvar checkboxes = settingsFormEl.find('input[type=\"checkbox\"][name]');\r\n\r\n\t\tif (settingsFormEl.length) {\r\n\t\t\trequire(['vendor/jquery/serializeObject/jquery.ba-serializeobject.min'], function () {\r\n\t\t\t\tvar settings = settingsFormEl.serializeObject();\r\n\r\n\t\t\t\t// Fix checkbox values\r\n\t\t\t\tcheckboxes.each(function (idx, inputEl) {\r\n\t\t\t\t\tinputEl = $(inputEl);\r\n\t\t\t\t\tif (inputEl.length) {\r\n\t\t\t\t\t\tsettings[inputEl.attr('name')] = inputEl.prop('checked');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsocket.emit('groups.update', {\r\n\t\t\t\t\tgroupName: groupName,\r\n\t\t\t\t\tvalues: settings,\r\n\t\t\t\t}, function (err) {\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (settings.name) {\r\n\t\t\t\t\t\tvar pathname = window.location.pathname;\r\n\t\t\t\t\t\tpathname = pathname.substr(1, pathname.lastIndexOf('/'));\r\n\t\t\t\t\t\tajaxify.go(pathname + utils.slugify(settings.name));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tajaxify.refresh();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tapp.alertSuccess('[[groups:event.updated]]');\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tDetails.deleteGroup = function () {\r\n\t\tbootbox.confirm('Are you sure you want to delete the group: ' + utils.escapeHTML(groupName), function (confirm) {\r\n\t\t\tif (confirm) {\r\n\t\t\t\tbootbox.prompt('Please enter the name of this group in order to delete it:', function (response) {\r\n\t\t\t\t\tif (response === groupName) {\r\n\t\t\t\t\t\tsocket.emit('groups.delete', {\r\n\t\t\t\t\t\t\tgroupName: groupName,\r\n\t\t\t\t\t\t}, function (err) {\r\n\t\t\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\t\t\tapp.alertSuccess('[[groups:event.deleted, ' + utils.escapeHTML(groupName) + ']]');\r\n\t\t\t\t\t\t\t\tajaxify.go('groups');\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tapp.alertError(err.message);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tfunction handleMemberInvitations() {\r\n\t\tif (!ajaxify.data.group.isOwner) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar searchInput = $('[component=\"groups/members/invite\"]');\r\n\t\trequire(['autocomplete'], function (autocomplete) {\r\n\t\t\tautocomplete.user(searchInput, function (event, selected) {\r\n\t\t\t\tsocket.emit('groups.issueInvite', {\r\n\t\t\t\t\ttoUid: selected.item.user.uid,\r\n\t\t\t\t\tgroupName: ajaxify.data.group.name,\r\n\t\t\t\t}, function (err) {\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tajaxify.refresh();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('[component=\"groups/members/bulk-invite-button\"]').on('click', function () {\r\n\t\t\tvar usernames = $('[component=\"groups/members/bulk-invite\"]').val();\r\n\t\t\tif (!usernames) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tsocket.emit('groups.issueMassInvite', {\r\n\t\t\t\tusernames: usernames,\r\n\t\t\t\tgroupName: ajaxify.data.group.name,\r\n\t\t\t}, function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\t\t\t\tajaxify.refresh();\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction removeCover() {\r\n\t\ttranslator.translate('[[groups:remove_group_cover_confirm]]', function (translated) {\r\n\t\t\tbootbox.confirm(translated, function (confirm) {\r\n\t\t\t\tif (!confirm) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsocket.emit('groups.cover.remove', {\r\n\t\t\t\t\tgroupName: ajaxify.data.group.name,\r\n\t\t\t\t}, function (err) {\r\n\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\tajaxify.refresh();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tapp.alertError(err.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\treturn Details;\r\n});\r\n"]}