"use strict";define("flags",["benchpress"],function(t){var a={};var o;var n;var e;a.showFlagModal=function(t){s(t,function(a){o=$(a);o.on("hidden.bs.modal",function(){o.remove()});n=o.find("#flag-post-commit");e=o.find("#flag-reason-custom");o.on("click",".flag-reason",function(){var a=$(this).text();if(e.val().length===0){return i(t.type,t.id,a)}bootbox.confirm({title:"[[flags:modal-submit-confirm]]",message:'<p>[[flags:modal-submit-confirm-text]]</p><p class="help-block">[[flags:modal-submit-confirm-text-help]]</p>',callback:function(o){if(o){i(t.type,t.id,a)}}})});n.on("click",function(){i(t.type,t.id,o.find("#flag-reason-custom").val())});o.on("click",".toggle-custom",function(){e.prop("disabled",false);e.focus()});o.modal("show");o.find("#flag-reason-custom").on("keyup blur change",l)})};function s(a,o){t.parse("partials/modals/flag_modal",a,function(t){require(["translator"],function(a){a.translate(t,o)})})}function i(t,a,n){if(!t||!a||!n){return}socket.emit("flags.create",{type:t,id:a,reason:n},function(t){if(t){return app.alertError(t.message)}o.modal("hide");app.alertSuccess("[[flags:modal-submit-success]]")})}function l(){if(o.find("#flag-reason-custom").val()){n.removeAttr("disabled")}else{n.attr("disabled",true)}}return a});
//# sourceMappingURL=public/src/modules/flags.js.map