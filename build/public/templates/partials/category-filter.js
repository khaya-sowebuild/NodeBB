!function(e){"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd&&define(e)}(function(){function r(e,a,t,o,c){return'<div component="category/dropdown" class="btn-group pull-right category-dropdown-container bottom-sheet '+(t(a&&a.categories&&a.categories.length)?"":"hidden")+'">\r\n    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">\r\n        '+(t(a&&a.selectedCategory)?(t(a&&a.selectedCategory&&a.selectedCategory.icon)?'<span class="fa-stack"><i style="color: '+e.__escape(t(a&&a.selectedCategory&&a.selectedCategory.bgColor))+';" class="fa fa-circle fa-stack-2x"></i><i class="fa fa-fw fa-stack-1x '+e.__escape(t(a&&a.selectedCategory&&a.selectedCategory.icon))+'" style="color: '+e.__escape(t(a&&a.selectedCategory&&a.selectedCategory.color))+';"></i></span>':"")+" "+e.__escape(t(a&&a.selectedCategory&&a.selectedCategory.name)):"\r\n        [[unread:all_categories]]")+' <span class="caret"></span>\r\n    </button>\r\n    <ul component="category/list" class="dropdown-menu category-dropdown-menu" role="menu">\r\n        <li role="presentation" class="category">\r\n            <a role="menu-item" href="'+e.__escape(t(a&&a.config&&a.config.relative_path))+"/"+e.__escape(t(a&&a.allCategoriesUrl))+'"><i class="fa fa-fw '+(t(a&&a.selectedCategory)?"":"fa-check")+'"></i> [[unread:all_categories]]</a>\r\n        </li>\r\n        '+r.blocks.categories(e,a,t,o,c)+"\r\n    </ul>\r\n</div>"}return r.blocks={categories:function(a,t,o,e,c){return e(o(t&&t.categories),function(e){return'\r\n        <li role="presentation" class="category" data-cid="'+a.__escape(o(t&&t.categories&&t.categories[e]&&t.categories[e].cid))+'" data-parent-cid="'+a.__escape(o(t&&t.categories&&t.categories[e]&&t.categories[e].parentCid))+'">\r\n            <a role="menu-item" href="#"><i component="category/select/icon" class="fa fa-fw '+(o(t&&t.categories&&t.categories[e]&&t.categories[e].selected)?"fa-check":"")+'"></i>'+a.__escape(o(t&&t.categories&&t.categories[e]&&t.categories[e].level))+(o(t&&t.categories&&t.categories[e]&&t.categories[e].icon)?'<span class="fa-stack" style="'+a.__escape(c(t,a,"generateCategoryBackground",[o(t&&t.categories&&t.categories[e])]))+'"><i class="fa fa-fw fa-stack-1x '+a.__escape(o(t&&t.categories&&t.categories[e]&&t.categories[e].icon))+'" style="color: '+a.__escape(o(t&&t.categories&&t.categories[e]&&t.categories[e].color))+';"></i></span>':"")+" "+a.__escape(o(t&&t.categories&&t.categories[e]&&t.categories[e].name))+"</a>\r\n        </li>\r\n        "})}},r});