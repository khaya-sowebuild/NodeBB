!function(t){"object"==typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd&&define(t)}(function(){function c(t,e,s,r,n){return'<div class="subcategory">\r\n\t'+(s(e&&e.children&&e.children.length)?"<p>[[category:subcategories]]</p>":"")+'\r\n\r\n\t<ul class="categories" itemscope itemtype="http://www.schema.org/ItemList">\r\n\t\t'+c.blocks.children(t,e,s,r,n)+"\r\n\t</ul>\r\n</div>"}return c.blocks={children:function(r,n,c,t,e){return t(c(n&&n.children),function(s){return'\r\n\t\t<li component="categories/category" data-cid="'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].cid))+'" data-numRecentReplies="1" class="row clearfix">\r\n\t<meta itemprop="name" content="'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].name))+'">\r\n\r\n\t<div class="content col-xs-12 '+(c(n&&n.config&&n.config.hideCategoryLastPost)?"col-md-10 col-sm-12":"col-md-7 col-sm-9")+'">\r\n\t\t<div class="icon pull-left" style="'+r.__escape(e(n,r,"generateCategoryBackground",[c(n&&n.children&&n.children[s])]))+'">\r\n\t\t\t<i class="fa fa-fw '+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].icon))+'"></i>\r\n\t\t</div>\r\n\r\n\t\t<h2 class="title">\r\n\t\t\t'+(c(n&&n.children&&n.children[s]&&n.children[s].isSection)?"\r\n"+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].name))+"\r\n":"\r\n"+(c(n&&n.children&&n.children[s]&&n.children[s].link)?'\r\n<a href="'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].link))+'" itemprop="url">\r\n':'\r\n<a href="'+r.__escape(c(n&&n.config&&n.config.relative_path))+"/category/"+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].slug))+'" itemprop="url">\r\n')+"\r\n"+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].name))+"\r\n</a>\r\n")+"\r\n\t\t</h2>\r\n\t\t<div>\r\n\t\t\t"+(c(n&&n.children&&n.children[s]&&n.children[s].descriptionParsed)?'\r\n\t\t\t<div class="description">\r\n\t\t\t\t'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].descriptionParsed))+"\r\n\t\t\t</div>\r\n\t\t\t":"")+"\r\n\t\t\t"+(c(n&&n.config&&n.config.hideSubCategories)?"":"\r\n\t\t\t"+r.__escape(e(n,r,"generateChildrenCategories",[c(n&&n.children&&n.children[s])]))+"\r\n\t\t\t")+'\r\n\t\t</div>\r\n\t\t<span class="visible-xs pull-right">\r\n\t\t\t'+(c(n&&n.children&&n.children[s]&&n.children[s].teaser&&n.children[s].teaser.timestampISO)?'\r\n\t\t\t<a class="permalink" href="'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].teaser&&n.children[s].teaser.url))+'">\r\n\t\t\t\t<small class="timeago" title="'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].teaser&&n.children[s].teaser.timestampISO))+'"></small>\r\n\t\t\t</a>\r\n\t\t\t':"")+"\r\n\t\t</span>\r\n\t</div>\r\n\r\n\t"+(c(n&&n.children&&n.children[s]&&n.children[s].link)?"":'\r\n\t<div class="col-md-1 hidden-sm hidden-xs stats">\r\n\t\t<span class="'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s]["unread-class"]))+' human-readable-number" title="'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].totalTopicCount))+'">'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].totalTopicCount))+'</span><br />\r\n\t\t<small>[[global:topics]]</small>\r\n\t</div>\r\n\t<div class="col-md-1 hidden-sm hidden-xs stats">\r\n\t\t<span class="'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s]["unread-class"]))+' human-readable-number" title="'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].totalPostCount))+'">'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].totalPostCount))+"</span><br />\r\n\t\t<small>[[global:posts]]</small>\r\n\t</div>\r\n\t"+(c(n&&n.config&&n.config.hideCategoryLastPost)?"":'\r\n\t<div class="col-md-3 col-sm-3 teaser hidden-xs" component="topic/teaser">\r\n\t\t<div class="card" style="border-color: '+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].bgColor))+'">\r\n\t'+(c(n&&n.children&&n.children[s]&&n.children[s].posts)?t(c(n&&n.children&&n.children[s]&&n.children[s].posts),function(t,e){return"\r\n\t"+(0===e?'\r\n\t<div component="category/posts">\r\n\t\t<p>\r\n\t\t\t<a href="'+r.__escape(c(n&&n.config&&n.config.relative_path))+"/user/"+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].posts&&n.children[s].posts[t]&&n.children[s].posts[t].user&&n.children[s].posts[t].user.userslug))+'">\r\n\t\t\t\t'+(c(n&&n.children&&n.children[s]&&n.children[s].posts&&n.children[s].posts[t]&&n.children[s].posts[t].user&&n.children[s].posts[t].user.picture)?'\r\n\t\t\t\t<img class="user-img" title="'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].posts&&n.children[s].posts[t]&&n.children[s].posts[t].user&&n.children[s].posts[t].user.username))+'" alt="'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].posts&&n.children[s].posts[t]&&n.children[s].posts[t].user&&n.children[s].posts[t].user.username))+'" src="'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].posts&&n.children[s].posts[t]&&n.children[s].posts[t].user&&n.children[s].posts[t].user.picture))+'">\r\n\t\t\t\t':'\r\n\t\t\t\t<span class="user-icon user-img" title="'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].posts&&n.children[s].posts[t]&&n.children[s].posts[t].user&&n.children[s].posts[t].user.username))+'" style="background-color: '+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].posts&&n.children[s].posts[t]&&n.children[s].posts[t].user&&n.children[s].posts[t].user["icon:bgColor"]))+';">'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].posts&&n.children[s].posts[t]&&n.children[s].posts[t].user&&n.children[s].posts[t].user["icon:text"]))+"</span>\r\n\t\t\t\t")+'\r\n\t\t\t</a>\r\n\t\t\t<a class="permalink" href="'+r.__escape(c(n&&n.config&&n.config.relative_path))+"/topic/"+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].posts&&n.children[s].posts[t]&&n.children[s].posts[t].topic&&n.children[s].posts[t].topic.slug))+(c(n&&n.children&&n.children[s]&&n.children[s].posts&&n.children[s].posts[t]&&n.children[s].posts[t].index)?"/"+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].posts&&n.children[s].posts[t]&&n.children[s].posts[t].index)):"")+'">\r\n\t\t\t\t<small class="timeago" title="'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].posts&&n.children[s].posts[t]&&n.children[s].posts[t].timestampISO))+'"></small>\r\n\t\t\t</a>\r\n\t\t</p>\r\n\t\t<div class="post-content">\r\n\t\t\t'+r.__escape(c(n&&n.children&&n.children[s]&&n.children[s].posts&&n.children[s].posts[t]&&n.children[s].posts[t].content))+"\r\n\t\t</div>\r\n\t</div>\r\n\t":"")+"\r\n\t"}):t(c(n&&n.posts),function(t,e){return"\r\n\t"+(0===e?'\r\n\t<div component="category/posts">\r\n\t\t<p>\r\n\t\t\t<a href="'+r.__escape(c(n&&n.config&&n.config.relative_path))+"/user/"+r.__escape(c(n&&n.posts&&n.posts[t]&&n.posts[t].user&&n.posts[t].user.userslug))+'">\r\n\t\t\t\t'+(c(n&&n.posts&&n.posts[t]&&n.posts[t].user&&n.posts[t].user.picture)?'\r\n\t\t\t\t<img class="user-img" title="'+r.__escape(c(n&&n.posts&&n.posts[t]&&n.posts[t].user&&n.posts[t].user.username))+'" alt="'+r.__escape(c(n&&n.posts&&n.posts[t]&&n.posts[t].user&&n.posts[t].user.username))+'" src="'+r.__escape(c(n&&n.posts&&n.posts[t]&&n.posts[t].user&&n.posts[t].user.picture))+'">\r\n\t\t\t\t':'\r\n\t\t\t\t<span class="user-icon user-img" title="'+r.__escape(c(n&&n.posts&&n.posts[t]&&n.posts[t].user&&n.posts[t].user.username))+'" style="background-color: '+r.__escape(c(n&&n.posts&&n.posts[t]&&n.posts[t].user&&n.posts[t].user["icon:bgColor"]))+';">'+r.__escape(c(n&&n.posts&&n.posts[t]&&n.posts[t].user&&n.posts[t].user["icon:text"]))+"</span>\r\n\t\t\t\t")+'\r\n\t\t\t</a>\r\n\t\t\t<a class="permalink" href="'+r.__escape(c(n&&n.config&&n.config.relative_path))+"/topic/"+r.__escape(c(n&&n.posts&&n.posts[t]&&n.posts[t].topic&&n.posts[t].topic.slug))+(c(n&&n.posts&&n.posts[t]&&n.posts[t].index)?"/"+r.__escape(c(n&&n.posts&&n.posts[t]&&n.posts[t].index)):"")+'">\r\n\t\t\t\t<small class="timeago" title="'+r.__escape(c(n&&n.posts&&n.posts[t]&&n.posts[t].timestampISO))+'"></small>\r\n\t\t\t</a>\r\n\t\t</p>\r\n\t\t<div class="post-content">\r\n\t\t\t'+r.__escape(c(n&&n.posts&&n.posts[t]&&n.posts[t].content))+"\r\n\t\t</div>\r\n\t</div>\r\n\t":"")+"\r\n\t"}))+"\r\n\r\n\t"+(c(n&&n.children&&n.children[s]&&n.children[s].posts&&n.children[s].posts.length)?"":'\r\n\t<div component="category/posts">\r\n\t\t<div class="post-content">\r\n\t\t\t[[category:no_new_posts]]\r\n\t\t</div>\r\n\t</div>\r\n\t')+"\r\n</div>\r\n\r\n\t</div>\r\n\t")+"\r\n\t")+"\r\n</li>\r\n\r\n\t\t"})}},c});