!function(s){"object"==typeof module&&module.exports?module.exports=s():"function"==typeof define&&define.amd&&define(s)}(function(){function t(o,e,m,s,r){return'<li component="chat/recent/room" data-roomid="'+o.__escape(m(e&&e.rooms&&e.rooms.roomId))+'" class="'+(m(e&&e.rooms&&e.rooms.unread)?"unread":"")+'">\r\n\t<strong class="room-name">\r\n\t\t'+(m(e&&e.rooms&&e.rooms.lastUser&&e.rooms.lastUser.uid)?'\r\n\t\t<span component="chat/title">'+(m(e&&e.rooms&&e.rooms.roomName)?o.__escape(m(e&&e.rooms&&e.rooms.roomName)):o.__escape(m(e&&e.rooms&&e.rooms.usernames)))+"</span>\r\n\t\t":"\r\n\t\t<span>[[modules:chat.no-users-in-room]]</span>\r\n\t\t")+'\r\n\t</strong>\r\n\t<div class="avatar-placeholder"></div>\r\n\t'+s(m(e&&e.rooms&&e.rooms.users),function(s,r){return"\r\n\t"+(0===r?'\r\n\t<div class="main-avatar">\r\n\t\t<a href="'+o.__escape(m(e&&e.config&&e.config.relative_path))+"/user/"+o.__escape(m(e&&e.rooms&&e.rooms.users&&e.rooms.users[s]&&e.rooms.users[s].userslug))+'">\r\n\t'+(m(e&&e.rooms&&e.rooms.users&&e.rooms.users[s]&&e.rooms.users[s].picture)?'\r\n\t<img class="user-img avatar avatar-sm avatar-rounded" src="'+o.__escape(m(e&&e.rooms&&e.rooms.users&&e.rooms.users[s]&&e.rooms.users[s].picture))+'" title="'+o.__escape(m(e&&e.rooms&&e.rooms.users&&e.rooms.users[s]&&e.rooms.users[s].username))+'">\r\n\t':'\r\n\t<div class="user-img avatar avatar-sm avatar-rounded" title="'+o.__escape(m(e&&e.rooms&&e.rooms.users&&e.rooms.users[s]&&e.rooms.users[s].username))+'" style="background-color: '+o.__escape(m(e&&e.rooms&&e.rooms.users&&e.rooms.users[s]&&e.rooms.users[s]["icon:bgColor"]))+';">'+o.__escape(m(e&&e.rooms&&e.rooms.users&&e.rooms.users[s]&&e.rooms.users[s]["icon:text"]))+"</div>\r\n\t")+"\r\n</a>\r\n\t</div>\r\n\t":"")+"\r\n\t"})+'\r\n\r\n\t<ul class="members">\r\n\t\t'+t.blocks["rooms.users"](o,e,m,s,r)+"\r\n\t</ul>\r\n</li>"}return t.blocks={"rooms.users":function(r,o,e,s){return s(e(o&&o.rooms&&o.rooms.users),function(s){return'\r\n\t\t<li>\r\n\t\t\t<a href="'+r.__escape(e(o&&o.config&&o.config.relative_path))+"/user/"+r.__escape(e(o&&o.rooms&&o.rooms.users&&o.rooms.users[s]&&o.rooms.users[s].userslug))+'">\r\n\t'+(e(o&&o.rooms&&o.rooms.users&&o.rooms.users[s]&&o.rooms.users[s].picture)?'\r\n\t<img class="user-img avatar avatar-sm avatar-rounded" src="'+r.__escape(e(o&&o.rooms&&o.rooms.users&&o.rooms.users[s]&&o.rooms.users[s].picture))+'" title="'+r.__escape(e(o&&o.rooms&&o.rooms.users&&o.rooms.users[s]&&o.rooms.users[s].username))+'">\r\n\t':'\r\n\t<div class="user-img avatar avatar-sm avatar-rounded" title="'+r.__escape(e(o&&o.rooms&&o.rooms.users&&o.rooms.users[s]&&o.rooms.users[s].username))+'" style="background-color: '+r.__escape(e(o&&o.rooms&&o.rooms.users&&o.rooms.users[s]&&o.rooms.users[s]["icon:bgColor"]))+';">'+r.__escape(e(o&&o.rooms&&o.rooms.users&&o.rooms.users[s]&&o.rooms.users[s]["icon:text"]))+"</div>\r\n\t")+"\r\n</a>\r\n\t\t</li>\r\n\t\t"})}},t});