!function(e){"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd&&define(e)}(function(){function o(s,n,i,e,a){return'<div class="emoji-dialog" id="emoji-dialog">\n  <div class="emoji-tabs">\n    <div class="top-bar"></div>\n    \n    <div class="emoji-dialog-search-container">\n      <input type="text" class="form-control emoji-dialog-search" placeholder="[[emoji:search.placeholder]]">\n      \n      <button type="button" class="close form-control" data-dismiss="modal" aria-label="[[global:close]]">\n        <span aria-hidden="true">&times;</span>\n      </button>\n    </div>\n      \n    <ul class="nav nav-tabs" role="tablist">\n      <li role="presentation" class="emoji-dialog-search-results hidden">\n        <a href="#emoji-tab-search" aria-controls="search" role="tab" data-toggle="tab" data-ajaxify="false">\n          [[emoji:search.results]]\n        </a>\n      </li>\n\n      '+e(i(n&&n.categories),function(e,a){return'\n      <li role="presentation" class="'+(0===a?"active":"")+'">\n        <a href="#emoji-tab-'+s.__escape(i(n&&n.categories&&n.categories[e]&&n.categories[e].name))+'" aria-controls="'+s.__escape(i(n&&n.categories&&n.categories[e]&&n.categories[e].name))+'" role="tab" data-toggle="tab" data-ajaxify="false">\n          [[emoji:categories.'+s.__escape(i(n&&n.categories&&n.categories[e]&&n.categories[e].name))+"]]\n        </a>\n      </li>\n      "})+'\n\n      <li role="presentation">\n        <button href="#emoji-tab-legal" class="btn btn-info" aria-controls="legal" role="tab" data-toggle="tab" data-ajaxify="false">\n          [[emoji:modal.legal]]\n        </button>\n      </li>\n    </ul>\n\n    \x3c!-- Tab panes --\x3e\n    <div class="tab-content">\n      <div role="tabpanel" class="tab-pane emoji-dialog-search-results hidden" id="emoji-tab-search">\n        \x3c!-- search results emoji go here --\x3e\n      </div>\n\n      '+o.blocks.categories(s,n,i,e,a)+'\n\n      <div role="tabpanel" class="tab-pane" id="emoji-tab-legal">\n        <div class="col-xs-12">\n          <p class="lead">\n            [[emoji:modal.legal.header]]\n          </p>\n        </div>\n        '+o.blocks.packs(s,n,i,e,a)+"\n      </div>\n    </div>\n  </div>\n</div>\n"}return o.blocks={packs:function(a,s,n,e){return e(n(s&&s.packs),function(e){return'\n        <div class="col-xs-12">\n          <h3>[[emoji:modal.legal.set.header, '+a.__escape(n(s&&s.packs&&s.packs[e]&&s.packs[e].name))+", "+a.__escape(n(s&&s.packs&&s.packs[e]&&s.packs[e].id))+"]]</h3>\n\n          "+(n(s&&s.packs&&s.packs[e]&&s.packs[e].attribution)?'\n          <h4>[[emoji:modal.legal.set.attribution]]</h4>\n          <div class="well">\n            '+a.__escape(n(s&&s.packs&&s.packs[e]&&s.packs[e].attribution))+"\n          </div>\n          ":"")+"\n\n          "+(n(s&&s.packs&&s.packs[e]&&s.packs[e].license)?'\n          <h4>[[emoji:modal.legal.set.license]]</h4>\n          <div class="well">\n            '+a.__escape(n(s&&s.packs&&s.packs[e]&&s.packs[e].license))+"\n          </div>\n          ":"")+"\n        </div>\n        "})},categories:function(s,n,i,o){return o(i(n&&n.categories),function(a,e){return'\n      <div role="tabpanel" class="tab-pane '+(0===e?"active":"")+'" id="emoji-tab-'+s.__escape(i(n&&n.categories&&n.categories[a]&&n.categories[a].name))+'">\n        '+(i(n&&n.categories&&n.categories[a]&&n.categories[a].emojis)?o(i(n&&n.categories&&n.categories[a]&&n.categories[a].emojis),function(e){return'\n        <a class="emoji-link" name="'+s.__escape(i(n&&n.categories&&n.categories[a]&&n.categories[a].emojis&&n.categories[a].emojis[e]&&n.categories[a].emojis[e].name))+'" href="#">'+s.__escape(i(n&&n.categories&&n.categories[a]&&n.categories[a].emojis&&n.categories[a].emojis[e]&&n.categories[a].emojis[e].html))+"</a>\n        "}):o(i(n&&n.emojis),function(e){return'\n        <a class="emoji-link" name="'+s.__escape(i(n&&n.emojis&&n.emojis[e]&&n.emojis[e].name))+'" href="#">'+s.__escape(i(n&&n.emojis&&n.emojis[e]&&n.emojis[e].html))+"</a>\n        "}))+"\n      </div>\n      "})}},o});